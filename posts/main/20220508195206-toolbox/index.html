<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Toolbox | Lucius | Braindump</title>
<meta name="keywords" content="">
<meta name="description" content="Hardware HHKB Logitech MX Master 3 for Mac MacBook Pro (15-inch, 2017) DELL U2417H Bose QC 35 NFAUDIO 二单元娄氏动铁 NF2u Sony A7M3 iPhone 11 Pro Kindle Paper White Software Git Git Skills Design Tools Figma Excalidraw Pinboard Workflow HammerSpoon Hugo Karabiner-Elements Vanilla Emacs with Purcell Beancount Latex Anki Editor VSCode Terminal Squirrel 输入法词库扩充 - 肥猫百万">
<meta name="author" content="Lucius Chen">
<link rel="canonical" href="https://sheerwill.xyz/posts/main/20220508195206-toolbox/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://sheerwill.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://sheerwill.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://sheerwill.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://sheerwill.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://sheerwill.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://sheerwill.xyz/posts/main/20220508195206-toolbox/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><style>
  #icons {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2em;
  }
  #icons .item {
    width: 80px;
    height: 50px;
    margin: 10px;
  }
  #icons .item .name {
    font-size: 12px;
    user-select: all;
    text-align: center;
  }
  #icons .item .icon {
    display: flex;
    justify-content: center;
  }
  #icons .item svg {
    width: 30px;
    height: 30px;
  }
</style>


  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-MEASUREMENT_ID"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-MEASUREMENT_ID');
        }
      </script>
    
  

<meta property="og:title" content="Toolbox" />
<meta property="og:description" content="Hardware HHKB Logitech MX Master 3 for Mac MacBook Pro (15-inch, 2017) DELL U2417H Bose QC 35 NFAUDIO 二单元娄氏动铁 NF2u Sony A7M3 iPhone 11 Pro Kindle Paper White Software Git Git Skills Design Tools Figma Excalidraw Pinboard Workflow HammerSpoon Hugo Karabiner-Elements Vanilla Emacs with Purcell Beancount Latex Anki Editor VSCode Terminal Squirrel 输入法词库扩充 - 肥猫百万" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sheerwill.xyz/posts/main/20220508195206-toolbox/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-10T14:17:53+08:00" />
<meta property="article:modified_time" content="2023-02-10T14:17:53+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Toolbox"/>
<meta name="twitter:description" content="Hardware HHKB Logitech MX Master 3 for Mac MacBook Pro (15-inch, 2017) DELL U2417H Bose QC 35 NFAUDIO 二单元娄氏动铁 NF2u Sony A7M3 iPhone 11 Pro Kindle Paper White Software Git Git Skills Design Tools Figma Excalidraw Pinboard Workflow HammerSpoon Hugo Karabiner-Elements Vanilla Emacs with Purcell Beancount Latex Anki Editor VSCode Terminal Squirrel 输入法词库扩充 - 肥猫百万"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://sheerwill.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Toolbox",
      "item": "https://sheerwill.xyz/posts/main/20220508195206-toolbox/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Toolbox",
  "name": "Toolbox",
  "description": "Hardware HHKB Logitech MX Master 3 for Mac MacBook Pro (15-inch, 2017) DELL U2417H Bose QC 35 NFAUDIO 二单元娄氏动铁 NF2u Sony A7M3 iPhone 11 Pro Kindle Paper White Software Git Git Skills Design Tools Figma Excalidraw Pinboard Workflow HammerSpoon Hugo Karabiner-Elements Vanilla Emacs with Purcell Beancount Latex Anki Editor VSCode Terminal Squirrel 输入法词库扩充 - 肥猫百万",
  "keywords": [
    
  ],
  "articleBody": "Hardware HHKB Logitech MX Master 3 for Mac MacBook Pro (15-inch, 2017) DELL U2417H Bose QC 35 NFAUDIO 二单元娄氏动铁 NF2u Sony A7M3 iPhone 11 Pro Kindle Paper White Software Git Git Skills Design Tools Figma Excalidraw Pinboard Workflow HammerSpoon Hugo Karabiner-Elements Vanilla Emacs with Purcell Beancount Latex Anki Editor VSCode Terminal Squirrel 输入法词库扩充 - 肥猫百万维基词库\n下载 Releases 中的 zhwiki.dict.yaml 到 /Library/Rime/ 下，我使用的是「朙月拼音・简化字」版本，因此可以在 luna_pinyin_simp.custom.yaml 中找到下面配置。\n# 載入朙月拼音擴充詞庫 \"translator/dictionary\": luna_pinyin.extended 扩展的词库都配置在 luna_pinyin.extended.dict.yaml 中，添加需要扩展的词库即可。\nimport_tables: - luna_pinyin - luna_pinyin.sgmain - luna_pinyin.hanyu - luna_pinyin.poetry - luna_pinyin.cn_en - zhwiki Chrome Extensions 在線詞典助手 和 Anki 配合记忆单词十分好用\nDark Reader 可以让浏览器的界面变成超级舒服的棕黄色，很适合阅读。\n為什麼你們就是不能加個空格呢？ 强迫症福音，可以给网页中英文之间自动加上空格。\nThe Great Suspender 将暂时不用的 Chrome Tabs 暂停，降低内存的使用。\nRSSHub Radar 识别当前网站的 RSS\nLanguage Reactor 提供 NetFlix、Youtube、TurtleTube、Video File、Text 的翻译，以及 Flashcards。\nModern for Hacker News 为 Hacker News 提供现代化的显示\nCalibre E-book viewer 字体设置，Preferences \u003e Styles 中添加下面的 CSS。\nbody \u003e *, span { font-family: \"LXGW WenKai Screen\" !important; } Photos 因为现在 iCloud 导出的照片会将 Live photos 转换成 .MOV 格式的视频，所以先要删除这部份视频。\nrm -f *[IMG]*.MOV 然后执行脚本分发照片。\nimport os import io import shutil import pyheif import exifread import PIL.Image import PIL.ExifTags from os import listdir from datetime import datetime from os.path import isfile, join def mkexifdirs (filedicts, timeStr): dirlocal = dir if len(timeStr) == 0: timeStr = datetime.fromtimestamp(os.stat(filename).st_birthtime).strftime('%Y:%m:%d %H:%M:%S') dirlocal = dir + 'no-exif/' timeStr = datetime.strptime(timeStr, \"%Y:%m:%d %H:%M:%S\").strftime('%Y-%m') filedicts['timeStr'] = timeStr filedicts['directory'] = dirlocal + timeStr.split('-')[0] filedicts['directorySec'] = dirlocal + timeStr.split('-')[0] + '/' + timeStr def movefile (filedicts, joined): directory = filedicts['directory'] directorySec = filedicts['directorySec'] if not os.path.exists(directory): os.makedirs(directory) if not os.path.exists(directorySec): os.makedirs(directorySec) else: if not os.path.exists(directorySec): os.makedirs(directorySec) # 目标路径存在 # 目标路径下无相同文件存在 if directorySec and not os.path.exists(os.path.join(directorySec, filename)): shutil.move(joined, directorySec) else: os.remove(joined) # 目标文件夹 dir = '/Users/luciuschen/Dropbox/Media/Photos/Girl/' # 存在 exif 信息并且当中含有 DateTime，则在当前目录下按照 DateTime 分类 # 不存在 exif 或者 exif 中不含有 DateTime，则在 no-exif 文件夹下进行分类 files = [f for f in listdir(dir) if isfile(join(dir, f))] filedicts = {'timeStr': '', 'directory': '', 'directorySec': ''} for filename in files: if filename.startswith('.'): continue joined = os.path.join(dir, filename) if filename.lower().endswith(('png', 'jpg', 'jpeg')): img = PIL.Image.open(joined) if img._getexif(): exif = { PIL.ExifTags.TAGS[k]: v for k, v in img._getexif().items() if k in PIL.ExifTags.TAGS } if 'DateTime' in exif: mkexifdirs (filedicts, exif['DateTime'][0:19]) else: mkexifdirs(filedicts, '') else: mkexifdirs(filedicts, '') movefile(filedicts, joined) elif filename.lower().endswith(\".heic\"): heif_file = pyheif.read(filename) tags = {} for metadata in heif_file.metadata: # data 数据中前六个字符 b'Exif 是我们不需要的 file_stream = io.BytesIO(metadata['data'][6:]) tags = exifread.process_file(file_stream, details = False) if tags: break if tags: if tags.get(\"EXIF DateTimeOriginal\"): mkexifdirs (filedicts, str(tags.get(\"EXIF DateTimeOriginal\"))) else: mkexifdirs(filedicts, '') else: mkexifdirs(filedicts, '') movefile(filedicts, joined) 优化版本，这里将处理没有 exif 信息和有 exif 信息的方法合并，不同的部分作为参数。（后续需要学一下 macro 和 generics 的区别和使用场景）\nimport os import io import shutil import pyheif import exifread import PIL.Image import PIL.ExifTags from os import listdir from datetime import datetime from os.path import isfile, join def mkexifdirs (filedicts, timeStr, dirlocal): timeStr = datetime.strptime(timeStr, \"%Y:%m:%d %H:%M:%S\").strftime('%Y-%m') filedicts['timeStr'] = timeStr filedicts['directory'] = dirlocal + timeStr.split('-')[0] filedicts['directorySec'] = dirlocal + timeStr.split('-')[0] + '/' + timeStr def movefile (filedicts, joined): directory = filedicts['directory'] directorySec = filedicts['directorySec'] if not os.path.exists(directory): os.makedirs(directory) if not os.path.exists(directorySec): os.makedirs(directorySec) # 目标路径存在 # 目标路径下无相同文件存在 if directorySec and not os.path.exists(os.path.join(directorySec, filename)): shutil.move(joined, directorySec) else: os.remove(joined) dir = '/Users/luciuschen/' # 存在 exif 信息并且当中含有 DateTime，则在当前目录下按照 DateTime 分类 # 不存在 exif 或者 exif 中不含有 DateTime，则在 no-exif 文件夹下进行分类 files = [f for f in listdir(dir) if isfile(join(dir, f))] filedicts = {'timeStr': '', 'directory': '', 'directorySec': ''} for filename in files: if filename.startswith('.'): continue joined = os.path.join(dir, filename) filebirthtime = datetime.fromtimestamp(os.stat(filename).st_birthtime).strftime('%Y:%m:%d %H:%M:%S') if filename.lower().endswith(('png', 'jpg', 'jpeg')): img = PIL.Image.open(joined) if img._getexif(): exif = { PIL.ExifTags.TAGS[k]: v for k, v in img._getexif().items() if k in PIL.ExifTags.TAGS } if 'DateTime' in exif: mkexifdirs (filedicts, exif['DateTime'][0:19], dir) else: mkexifdirs(filedicts, filebirthtime, dir + 'no-exif/') else: mkexifdirs(filedicts, filebirthtime, dir + 'no-exif/') movefile(filedicts, joined) elif filename.lower().endswith(\".heic\"): heif_file = pyheif.read(filename) tags = {} for metadata in heif_file.metadata: # data 数据中前六个字符 b'Exif 是我们不需要的 file_stream = io.BytesIO(metadata['data'][6:]) tags = exifread.process_file(file_stream, details = False) if tags and tags.get(\"EXIF DateTimeOriginal\"): mkexifdirs (filedicts, str(tags.get(\"EXIF DateTimeOriginal\")), dir) else: mkexifdirs(filedicts, filebirthtime, dir + 'no-exif/') movefile(filedicts, joined) break ",
  "wordCount" : "1140",
  "inLanguage": "en",
  "datePublished": "2023-02-10T14:17:53+08:00",
  "dateModified": "2023-02-10T14:17:53+08:00",
  "author":[{
    "@type": "Person",
    "name": "Lucius Chen"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sheerwill.xyz/posts/main/20220508195206-toolbox/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lucius | Braindump",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sheerwill.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
 if (localStorage.getItem("pref-theme") === "dark") {
   document.body.classList.add('dark');
 } else if (localStorage.getItem("pref-theme") === "light") {
   document.body.classList.remove('dark')
 } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
   document.body.classList.add('dark');
 }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://sheerwill.xyz/" accesskey="h" title="Lucius | Braindump (Alt + H)">Lucius | Braindump</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://sheerwill.xyz/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://sheerwill.xyz/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://sheerwill.xyz/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Toolbox
    </h1>
    <div class="post-meta"><span title='2023-02-10 14:17:53 +0800 CST'>February 10, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;1140 words&nbsp;·&nbsp;Lucius Chen

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#hardware" aria-label="Hardware">Hardware</a></li>
                <li>
                    <a href="#software" aria-label="Software">Software</a><ul>
                        
                <li>
                    <a href="#git" aria-label="Git">Git</a></li>
                <li>
                    <a href="#design-tools" aria-label="Design Tools">Design Tools</a></li>
                <li>
                    <a href="#pinboard--20220506185941-pinboard-dot-md" aria-label="Pinboard">Pinboard</a></li>
                <li>
                    <a href="#workflow" aria-label="Workflow">Workflow</a></li>
                <li>
                    <a href="#editor" aria-label="Editor">Editor</a></li>
                <li>
                    <a href="#squirrel" aria-label="Squirrel">Squirrel</a></li>
                <li>
                    <a href="#chrome-extensions" aria-label="Chrome Extensions">Chrome Extensions</a><ul>
                        
                <li>
                    <a href="#%e5%9c%a8%e7%b7%9a%e8%a9%9e%e5%85%b8%e5%8a%a9%e6%89%8b" aria-label="在線詞典助手">在線詞典助手</a></li>
                <li>
                    <a href="#dark-reader" aria-label="Dark Reader">Dark Reader</a></li>
                <li>
                    <a href="#%e7%82%ba%e4%bb%80%e9%ba%bc%e4%bd%a0%e5%80%91%e5%b0%b1%e6%98%af%e4%b8%8d%e8%83%bd%e5%8a%a0%e5%80%8b%e7%a9%ba%e6%a0%bc%e5%91%a2" aria-label="為什麼你們就是不能加個空格呢？">為什麼你們就是不能加個空格呢？</a></li>
                <li>
                    <a href="#the-great-suspender" aria-label="The Great Suspender">The Great Suspender</a></li>
                <li>
                    <a href="#rsshub-radar" aria-label="RSSHub Radar">RSSHub Radar</a></li>
                <li>
                    <a href="#language-reactor" aria-label="Language Reactor">Language Reactor</a></li>
                <li>
                    <a href="#modern-for-hacker-news" aria-label="Modern for Hacker News">Modern for Hacker News</a></li></ul>
                </li>
                <li>
                    <a href="#calibre" aria-label="Calibre">Calibre</a><ul>
                        
                <li>
                    <a href="#e-book-viewer" aria-label="E-book viewer">E-book viewer</a></li></ul>
                </li>
                <li>
                    <a href="#photos" aria-label="Photos">Photos</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="hardware">Hardware<a hidden class="anchor" aria-hidden="true" href="#hardware">#</a></h2>
<ul>
<li>HHKB</li>
<li>Logitech MX Master 3 for Mac</li>
<li>MacBook Pro (15-inch, 2017)</li>
<li>DELL U2417H</li>
<li>Bose QC 35</li>
<li>NFAUDIO 二单元娄氏动铁 NF2u</li>
<li>Sony A7M3</li>
<li>iPhone 11 Pro</li>
<li>Kindle Paper White</li>
</ul>
<h2 id="software">Software<a hidden class="anchor" aria-hidden="true" href="#software">#</a></h2>
<h3 id="git">Git<a hidden class="anchor" aria-hidden="true" href="#git">#</a></h3>
<ul>
<li><a href="/posts/main/20220503160055-git_skills/">Git Skills</a></li>
</ul>
<h3 id="design-tools">Design Tools<a hidden class="anchor" aria-hidden="true" href="#design-tools">#</a></h3>
<ul>
<li><a href="/posts/main/20220503154744-figma/">Figma</a></li>
<li><a href="/posts/main/20221208143127-excalidraw/">Excalidraw</a></li>
</ul>
<h3 id="pinboard--20220506185941-pinboard-dot-md"><a href="/posts/main/20220506185941-pinboard/">Pinboard</a><a hidden class="anchor" aria-hidden="true" href="#pinboard--20220506185941-pinboard-dot-md">#</a></h3>
<h3 id="workflow">Workflow<a hidden class="anchor" aria-hidden="true" href="#workflow">#</a></h3>
<ul>
<li><a href="/posts/main/20220520185239-hammerspoon/">HammerSpoon</a></li>
<li><a href="/posts/main/20220607104757-hugo/">Hugo</a></li>
<li><a href="/posts/main/20220805101927-karabiner_elements/">Karabiner-Elements</a></li>
<li><a href="/posts/main/20220723211325-vanilla_emacs_with_purcell/">Vanilla Emacs with Purcell</a></li>
<li><a href="/posts/main/20220821223012-beancount/">Beancount</a></li>
<li><a href="/posts/main/20220616162256-latex/">Latex</a></li>
<li><a href="/posts/main/20220706112803-anki/">Anki</a></li>
</ul>
<h3 id="editor">Editor<a hidden class="anchor" aria-hidden="true" href="#editor">#</a></h3>
<ul>
<li><a href="/posts/main/20220629203733-vscode/">VSCode</a></li>
<li><a href="/posts/main/20220629204553-terminal/">Terminal</a></li>
</ul>
<h3 id="squirrel">Squirrel<a hidden class="anchor" aria-hidden="true" href="#squirrel">#</a></h3>
<p>输入法词库扩充 - <a href="https://github.com/felixonmars/fcitx5-pinyin-zhwiki">肥猫百万维基词库</a></p>
<p>下载 Releases 中的 <code>zhwiki.dict.yaml</code> 到 <code>/Library/Rime/</code> 下，我使用的是「朙月拼音・简化字」版本，因此可以在 <code>luna_pinyin_simp.custom.yaml</code> 中找到下面配置。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c">#  載入朙月拼音擴充詞庫</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">&#34;translator/dictionary&#34;: </span><span class="l">luna_pinyin.extended</span><span class="w">
</span></span></span></code></pre></div><p>扩展的词库都配置在 <code>luna_pinyin.extended.dict.yaml</code> 中，添加需要扩展的词库即可。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">import_tables</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">luna_pinyin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">luna_pinyin.sgmain</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">luna_pinyin.hanyu</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">luna_pinyin.poetry</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">luna_pinyin.cn_en</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">zhwiki</span><span class="w">
</span></span></span></code></pre></div><h3 id="chrome-extensions">Chrome Extensions<a hidden class="anchor" aria-hidden="true" href="#chrome-extensions">#</a></h3>
<h4 id="在線詞典助手"><a href="https://chrome.google.com/webstore/detail/online-dictionary-helper/lppjdajkacanlmpbbcdkccjkdbpllajb">在線詞典助手</a><a hidden class="anchor" aria-hidden="true" href="#在線詞典助手">#</a></h4>
<p>和 Anki 配合记忆单词十分好用</p>
<h4 id="dark-reader"><a href="https://chrome.google.com/webstore/detail/dark-reader/eimadpbcbfnmbkopoojfekhnkhdbieeh">Dark Reader</a><a hidden class="anchor" aria-hidden="true" href="#dark-reader">#</a></h4>
<p>可以让浏览器的界面变成超级舒服的棕黄色，很适合阅读。</p>
<h4 id="為什麼你們就是不能加個空格呢"><a href="https://chrome.google.com/webstore/detail/%E7%82%BA%E4%BB%80%E9%BA%BC%E4%BD%A0%E5%80%91%E5%B0%B1%E6%98%AF%E4%B8%8D%E8%83%BD%E5%8A%A0%E5%80%8B%E7%A9%BA%E6%A0%BC%E5%91%A2%EF%BC%9F/paphcfdffjnbcgkokihcdjliihicmbpd?hl=zh-TW">為什麼你們就是不能加個空格呢？</a><a hidden class="anchor" aria-hidden="true" href="#為什麼你們就是不能加個空格呢">#</a></h4>
<p>强迫症福音，可以给网页中英文之间自动加上空格。</p>
<h4 id="the-great-suspender"><a href="https://chrome.google.com/webstore/detail/the-great-suspender/jaekigmcljkkalnicnjoafgfjoefkpeg">The Great Suspender</a><a hidden class="anchor" aria-hidden="true" href="#the-great-suspender">#</a></h4>
<p>将暂时不用的 Chrome Tabs 暂停，降低内存的使用。</p>
<h4 id="rsshub-radar"><a href="https://chrome.google.com/webstore/detail/rsshub-radar/kefjpfngnndepjbopdmoebkipbgkggaa/related">RSSHub Radar</a><a hidden class="anchor" aria-hidden="true" href="#rsshub-radar">#</a></h4>
<p>识别当前网站的 RSS</p>
<h4 id="language-reactor"><a href="https://www.languagereactor.com/">Language Reactor</a><a hidden class="anchor" aria-hidden="true" href="#language-reactor">#</a></h4>
<p>提供 NetFlix、Youtube、TurtleTube、Video File、Text 的翻译，以及 Flashcards。</p>
<h4 id="modern-for-hacker-news"><a href="https://chrome.google.com/webstore/detail/modern-for-hacker-news/dabkegjlekdcmefifaolmdhnhdcplklo">Modern for Hacker News</a><a hidden class="anchor" aria-hidden="true" href="#modern-for-hacker-news">#</a></h4>
<p>为 Hacker News 提供现代化的显示</p>
<h3 id="calibre">Calibre<a hidden class="anchor" aria-hidden="true" href="#calibre">#</a></h3>
<h4 id="e-book-viewer">E-book viewer<a hidden class="anchor" aria-hidden="true" href="#e-book-viewer">#</a></h4>
<p>字体设置，Preferences &gt; Styles 中添加下面的 CSS。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="nt">body</span> <span class="o">&gt;</span> <span class="o">*,</span> <span class="nt">span</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">font-family</span><span class="p">:</span> <span class="s2">&#34;LXGW WenKai Screen&#34;</span> <span class="cp">!important</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="photos">Photos<a hidden class="anchor" aria-hidden="true" href="#photos">#</a></h3>
<p>因为现在 iCloud 导出的照片会将 Live photos 转换成 <code>.MOV</code> 格式的视频，所以先要删除这部份视频。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">rm -f *<span class="o">[</span>IMG<span class="o">]</span>*.MOV
</span></span></code></pre></div><p>然后执行脚本分发照片。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">io</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">shutil</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pyheif</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">exifread</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">PIL.Image</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">PIL.ExifTags</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">listdir</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">isfile</span><span class="p">,</span> <span class="n">join</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">mkexifdirs</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">timeStr</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dirlocal</span> <span class="o">=</span> <span class="nb">dir</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">timeStr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">timeStr</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">st_birthtime</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y:%m:</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">dirlocal</span> <span class="o">=</span> <span class="nb">dir</span> <span class="o">+</span> <span class="s1">&#39;no-exif/&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="n">timeStr</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">timeStr</span><span class="p">,</span> <span class="s2">&#34;%Y:%m:</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;timeStr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeStr</span>
</span></span><span class="line"><span class="cl">    <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directory&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dirlocal</span> <span class="o">+</span> <span class="n">timeStr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directorySec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dirlocal</span> <span class="o">+</span> <span class="n">timeStr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">timeStr</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">movefile</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">joined</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">directory</span> <span class="o">=</span> <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directory&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">directorySec</span> <span class="o">=</span> <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directorySec&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directorySec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directorySec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directorySec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directorySec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 目标路径存在</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 目标路径下无相同文件存在</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">directorySec</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directorySec</span><span class="p">,</span> <span class="n">filename</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">joined</span><span class="p">,</span> <span class="n">directorySec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 目标文件夹</span>
</span></span><span class="line"><span class="cl"><span class="nb">dir</span> <span class="o">=</span> <span class="s1">&#39;/Users/luciuschen/Dropbox/Media/Photos/Girl/&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 存在 exif 信息并且当中含有 DateTime，则在当前目录下按照 DateTime 分类</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 不存在 exif 或者 exif 中不含有 DateTime，则在 no-exif 文件夹下进行分类</span>
</span></span><span class="line"><span class="cl"><span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">listdir</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">isfile</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">f</span><span class="p">))]</span>
</span></span><span class="line"><span class="cl"><span class="n">filedicts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;timeStr&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;directory&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;directorySec&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl">    <span class="n">joined</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;jpeg&#39;</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="n">img</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">_getexif</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">exif</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">PIL</span><span class="o">.</span><span class="n">ExifTags</span><span class="o">.</span><span class="n">TAGS</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span> <span class="n">v</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">img</span><span class="o">.</span><span class="n">_getexif</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">PIL</span><span class="o">.</span><span class="n">ExifTags</span><span class="o">.</span><span class="n">TAGS</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="s1">&#39;DateTime&#39;</span> <span class="ow">in</span> <span class="n">exif</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mkexifdirs</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">exif</span><span class="p">[</span><span class="s1">&#39;DateTime&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">19</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">movefile</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&#34;.heic&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">heif_file</span> <span class="o">=</span> <span class="n">pyheif</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">tags</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="n">heif_file</span><span class="o">.</span><span class="n">metadata</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># data 数据中前六个字符 b&#39;Exif 是我们不需要的</span>
</span></span><span class="line"><span class="cl">            <span class="n">file_stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="mi">6</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">            <span class="n">tags</span> <span class="o">=</span> <span class="n">exifread</span><span class="o">.</span><span class="n">process_file</span><span class="p">(</span><span class="n">file_stream</span><span class="p">,</span> <span class="n">details</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">tags</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">tags</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;EXIF DateTimeOriginal&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">mkexifdirs</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;EXIF DateTimeOriginal&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">movefile</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">joined</span><span class="p">)</span>
</span></span></code></pre></div><p>优化版本，这里将处理没有 exif 信息和有 exif 信息的方法合并，不同的部分作为参数。（后续需要学一下 macro 和 generics 的区别和使用场景）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">io</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">shutil</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pyheif</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">exifread</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">PIL.Image</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">PIL.ExifTags</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">listdir</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">isfile</span><span class="p">,</span> <span class="n">join</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">mkexifdirs</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">timeStr</span><span class="p">,</span> <span class="n">dirlocal</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">timeStr</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">timeStr</span><span class="p">,</span> <span class="s2">&#34;%Y:%m:</span><span class="si">%d</span><span class="s2"> %H:%M:%S&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;timeStr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeStr</span>
</span></span><span class="line"><span class="cl">    <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directory&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dirlocal</span> <span class="o">+</span> <span class="n">timeStr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directorySec&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dirlocal</span> <span class="o">+</span> <span class="n">timeStr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">timeStr</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">movefile</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">joined</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">directory</span> <span class="o">=</span> <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directory&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">directorySec</span> <span class="o">=</span> <span class="n">filedicts</span><span class="p">[</span><span class="s1">&#39;directorySec&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directorySec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directorySec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 目标路径存在</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 目标路径下无相同文件存在</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">directorySec</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directorySec</span><span class="p">,</span> <span class="n">filename</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">joined</span><span class="p">,</span> <span class="n">directorySec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">dir</span> <span class="o">=</span> <span class="s1">&#39;/Users/luciuschen/&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 存在 exif 信息并且当中含有 DateTime，则在当前目录下按照 DateTime 分类</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 不存在 exif 或者 exif 中不含有 DateTime，则在 no-exif 文件夹下进行分类</span>
</span></span><span class="line"><span class="cl"><span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">listdir</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">isfile</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">f</span><span class="p">))]</span>
</span></span><span class="line"><span class="cl"><span class="n">filedicts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;timeStr&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;directory&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;directorySec&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl">    <span class="n">joined</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">filebirthtime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">st_birthtime</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y:%m:</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;jpeg&#39;</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="n">img</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">img</span><span class="o">.</span><span class="n">_getexif</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">exif</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">PIL</span><span class="o">.</span><span class="n">ExifTags</span><span class="o">.</span><span class="n">TAGS</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span> <span class="n">v</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">img</span><span class="o">.</span><span class="n">_getexif</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">PIL</span><span class="o">.</span><span class="n">ExifTags</span><span class="o">.</span><span class="n">TAGS</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="s1">&#39;DateTime&#39;</span> <span class="ow">in</span> <span class="n">exif</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mkexifdirs</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">exif</span><span class="p">[</span><span class="s1">&#39;DateTime&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">19</span><span class="p">],</span> <span class="nb">dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">filebirthtime</span><span class="p">,</span> <span class="nb">dir</span> <span class="o">+</span> <span class="s1">&#39;no-exif/&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">filebirthtime</span><span class="p">,</span> <span class="nb">dir</span> <span class="o">+</span> <span class="s1">&#39;no-exif/&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">movefile</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&#34;.heic&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">heif_file</span> <span class="o">=</span> <span class="n">pyheif</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">tags</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="n">heif_file</span><span class="o">.</span><span class="n">metadata</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># data 数据中前六个字符 b&#39;Exif 是我们不需要的</span>
</span></span><span class="line"><span class="cl">            <span class="n">file_stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="mi">6</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">            <span class="n">tags</span> <span class="o">=</span> <span class="n">exifread</span><span class="o">.</span><span class="n">process_file</span><span class="p">(</span><span class="n">file_stream</span><span class="p">,</span> <span class="n">details</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;EXIF DateTimeOriginal&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">mkexifdirs</span> <span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;EXIF DateTimeOriginal&#34;</span><span class="p">)),</span> <span class="nb">dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">mkexifdirs</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">filebirthtime</span><span class="p">,</span> <span class="nb">dir</span> <span class="o">+</span> <span class="s1">&#39;no-exif/&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">movefile</span><span class="p">(</span><span class="n">filedicts</span><span class="p">,</span> <span class="n">joined</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span>
</span></span></code></pre></div>
                                                                                                                                                                  
<div class="bl-section">
  <h4>No notes link to this note</h4>
</div>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://sheerwill.xyz/posts/main/20220602202247-the_two_generals_problem/">
    <span class="title">« Prev</span>
    <br>
    <span>The two generals problem</span>
  </a>
  <a class="next" href="https://sheerwill.xyz/posts/main/20220530180443-troubleshoot_issues_in_mysql/">
    <span class="title">Next »</span>
    <br>
    <span>Troubleshoot Issues in MySQL</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on x"
            href="https://x.com/intent/tweet/?text=Toolbox&amp;url=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f&amp;title=Toolbox&amp;summary=Toolbox&amp;source=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f&title=Toolbox">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on whatsapp"
            href="https://api.whatsapp.com/send?text=Toolbox%20-%20https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on telegram"
            href="https://telegram.me/share/url?text=Toolbox&amp;url=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Toolbox on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Toolbox&u=https%3a%2f%2fsheerwill.xyz%2fposts%2fmain%2f20220508195206-toolbox%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://sheerwill.xyz/">Lucius | Braindump</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
